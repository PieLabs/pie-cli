0 info it worked if it ends with ok
1 verbose cli [ '/Users/edeustace/.nvm/versions/node/v10.4.1/bin/node',
1 verbose cli   '/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/.bin/npm',
1 verbose cli   'publish',
1 verbose cli   '.',
1 verbose cli   '--tag',
1 verbose cli   'latest' ]
2 info using npm@3.10.10
3 info using node@v10.4.1
4 warn invalid config loglevel="notice"
5 verbose publish [ '.' ]
6 silly cache add args [ '.', null ]
7 verbose cache add spec .
8 silly cache add parsed spec Result {
8 silly cache add   raw: '.',
8 silly cache add   scope: null,
8 silly cache add   escapedName: null,
8 silly cache add   name: null,
8 silly cache add   rawSpec: '.',
8 silly cache add   spec: '/Users/edeustace/dev/github/pie-framework/pie-cli',
8 silly cache add   type: 'directory' }
9 verbose addLocalDirectory /Users/edeustace/.npm/pie/10.3.3/package.tgz not in flight; packing
10 verbose correctMkdir /Users/edeustace/.npm correctMkdir not in flight; initializing
11 info lifecycle pie@10.3.3~prepublish: pie@10.3.3
12 verbose lifecycle pie@10.3.3~prepublish: unsafe-perm in lifecycle true
13 verbose lifecycle pie@10.3.3~prepublish: PATH: /Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/npm/bin/node-gyp-bin:/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/.bin:/Users/edeustace/.nvm/versions/node/v10.4.1/lib/node_modules/npm/node_modules/npm-lifecycle/node-gyp-bin:/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/.bin:/Users/edeustace/.yarn/bin:/Users/edeustace/.config/yarn/global/node_modules/.bin:/Users/edeustace/bin:/Users/edeustace/.rbenv/shims:/Users/edeustace/.rbenv/bin:/Users/edeustace/.nvm/versions/node/v10.4.1/bin:/Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home/bin:/usr/local/heroku/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/Users/edeustace/.cargo/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/opt/X11/bin:/Users/edeustace/.yarn/bin:/Users/edeustace/.config/yarn/global/node_modules/.bin:/Users/edeustace/bin:/Users/edeustace/.rbenv/shims:/Users/edeustace/.rbenv/bin:/Library/Java/JavaVirtualMachines/jdk1.7.0_71.jdk/Contents/Home/bin:/usr/local/heroku/bin:/Library/Frameworks/Python.framework/Versions/3.6/bin:/Users/edeustace/.cargo/bin:/Users/edeustace/.iterm-utils:/Users/edeustace/Library/Python/3.6/bin:/Users/edeustace/.nvm/versions/node/v7.4.0/bin:/Users/edeustace/.iterm-utils:/Users/edeustace/Library/Python/3.6/bin
14 verbose lifecycle pie@10.3.3~prepublish: CWD: /Users/edeustace/dev/github/pie-framework/pie-cli
15 silly lifecycle pie@10.3.3~prepublish: Args: [ '-c', 'npm run build' ]
16 silly lifecycle pie@10.3.3~prepublish: Returned: code: 0  signal: null
17 verbose tar pack [ '/Users/edeustace/.npm/pie/10.3.3/package.tgz',
17 verbose tar pack   '/Users/edeustace/dev/github/pie-framework/pie-cli' ]
18 verbose tarball /Users/edeustace/.npm/pie/10.3.3/package.tgz
19 verbose folder /Users/edeustace/dev/github/pie-framework/pie-cli
20 verbose addLocalTarball adding from inside cache /Users/edeustace/.npm/pie/10.3.3/package.tgz
21 verbose correctMkdir /Users/edeustace/.npm correctMkdir not in flight; initializing
22 silly cache afterAdd pie@10.3.3
23 verbose afterAdd /Users/edeustace/.npm/pie/10.3.3/package/package.json not in flight; writing
24 verbose correctMkdir /Users/edeustace/.npm correctMkdir not in flight; initializing
25 verbose afterAdd /Users/edeustace/.npm/pie/10.3.3/package/package.json written
26 silly publish { name: 'pie',
26 silly publish   version: '10.3.3',
26 silly publish   description: 'The Portable Interaction Elements framework CLI',
26 silly publish   preferGlobal: true,
26 silly publish   bin: { pie: 'bin/pie' },
26 silly publish   scripts:
26 silly publish    { test: 'gulp test',
26 silly publish      prepublish: 'npm run build',
26 silly publish      build: 'gulp build',
26 silly publish      it: 'gulp it',
26 silly publish      dev: 'gulp dev',
26 silly publish      release: 'release-it',
26 silly publish      'source-maps': 'gulp build && ./node_modules/.bin/tsc' },
26 silly publish   repository:
26 silly publish    { type: 'git',
26 silly publish      url: 'git+https://github.com/pie-framework/pie-cli.git' },
26 silly publish   engines: { node: '^9.4.0', npm: '^5.6.0' },
26 silly publish   keywords: [ 'pie', 'cli' ],
26 silly publish   author: { name: 'info@corespring.org' },
26 silly publish   license: 'ISC',
26 silly publish   bugs: { url: 'https://github.com/pie-framework/pie-cli/issues' },
26 silly publish   homepage: 'https://github.com/pie-framework/pie-cli#readme',
26 silly publish   devDependencies:
26 silly publish    { '@types/acorn': '^4.0.1',
26 silly publish      '@types/babel-core': '^6.7.14',
26 silly publish      '@types/bluebird': '^3.5.0',
26 silly publish      '@types/chokidar': '^1.4.31',
26 silly publish      '@types/ejs': '^2.3.33',
26 silly publish      '@types/express': '^4.0.35',
26 silly publish      '@types/fs-extra': '3.0.3',
26 silly publish      '@types/glob': '^5.0.30',
26 silly publish      '@types/jsesc': '^0.4.29',
26 silly publish      '@types/lodash': '^4.14.55',
26 silly publish      '@types/marked': '0.0.28',
26 silly publish      '@types/node': '^8.0.8',
26 silly publish      '@types/node-emoji': '^1.4.0',
26 silly publish      '@types/pug': '^2.0.4',
26 silly publish      '@types/resolve': '0.0.4',
26 silly publish      '@types/semver': '^5.3.31',
26 silly publish      '@types/source-map': '^0.5.0',
26 silly publish      '@types/strip-ansi': '^3.0.0',
26 silly publish      '@types/temp': '^0.8.29',
26 silly publish      '@types/touch': '0.0.1',
26 silly publish      '@types/webpack': '^3.0.1',
26 silly publish      acorn: '^5.1.1',
26 silly publish      'babel-cli': '^6.24.0',
26 silly publish      'babel-register': '^6.24.0',
26 silly publish      chai: '^4.0.2',
26 silly publish      'conventional-changelog-cli': '^1.3.8',
26 silly publish      gulp: '^3.9.1',
26 silly publish      'gulp-git': '^2.1.0',
26 silly publish      'gulp-mocha': '^4.1.0',
26 silly publish      'gulp-sourcemaps': '^2.4.1',
26 silly publish      'gulp-typescript': '^3.1.6',
26 silly publish      'gulp-util': '^3.0.8',
26 silly publish      mocha: '^3.2.0',
26 silly publish      proxyquire: '^1.7.11',
26 silly publish      'release-it': '^6.1.1',
26 silly publish      'run-sequence': '^2.0.0',
26 silly publish      sinon: '^2.0.0',
26 silly publish      temp: '^0.8.3',
26 silly publish      tslint: '^5.5.0',
26 silly publish      typescript: '^2.7.2' },
26 silly publish   dependencies:
26 silly publish    { '@pie-cli-libs/installer': '^1.5.3',
26 silly publish      ajv: '^5.2.1',
26 silly publish      archiver: '^2.0.0',
26 silly publish      'babel-core': '^6.24.0',
26 silly publish      'babel-loader': '^7.1.1',
26 silly publish      'babel-plugin-transform-es2015-modules-commonjs': '^6.24.0',
26 silly publish      bluebird: '^3.5.0',
26 silly publish      chalk: '^2.3.0',
26 silly publish      'change-case': '^3.0.1',
26 silly publish      chokidar: '^1.6.1',
26 silly publish      ejs: '^2.5.6',
26 silly publish      express: '^4.15.2',
26 silly publish      'file-loader': '^1.1.11',
26 silly publish      'fs-extra': '^3.0.1',
26 silly publish      github: '^13.1.0',
26 silly publish      glob: '^7.1.1',
26 silly publish      'hosted-git-info': '^2.5.0',
26 silly publish      invariant: '^2.2.2',
26 silly publish      jsesc: '^2.4.0',
26 silly publish      lodash: '^4.17.4',
26 silly publish      'log-factory': '^1.0.0',
26 silly publish      'log-symbols': '^1.0.2',
26 silly publish      marked: '^0.3.6',
26 silly publish      'marked-terminal': '^2.0.0',
26 silly publish      minimist: '^1.2.0',
26 silly publish      ora: '^1.2.0',
26 silly publish      'pie-catalog-client': '^2.2.0',
26 silly publish      'pie-control-panel': '^1.3.0',
26 silly publish      'pie-controller': '^3.3.0',
26 silly publish      'pie-player': '^3.4.0',
26 silly publish      'pie-support-less': 'github:pielabs/pie-support-less#master',
26 silly publish      'pie-support-react': 'github:pielabs/pie-support-react#master',
26 silly publish      pug: '^2.0.0-beta9',
26 silly publish      'raw-loader': '^0.5.1',
26 silly publish      resolve: '^1.3.2',
26 silly publish      semver: '^5.3.0',
26 silly publish      'simple-git': '^1.85.0',
26 silly publish      sockjs: '^0.3.18',
26 silly publish      'strip-ansi': '^4.0.0',
26 silly publish      touch: '^3.1.0',
26 silly publish      'url-loader': '^0.5.9',
26 silly publish      webpack: '^3.1.0',
26 silly publish      'webpack-dev-middleware': '^1.10.1' },
26 silly publish   readme:
26 silly publish    '# pie-cli \n\n[![Build Status](https://travis-ci.org/pie-framework/pie-cli.svg?branch=master)](https://travis-ci.org/pie-framework/pie-cli)\n\n## Install\n\n```bash\nnpm install -g pie\n```\n\n#### Developer install \n\n```bash\ngit clone git@github.com:pie-framework/pie-cli.git \ncd pie-cli \nnpm install \nnpm run build\nnpm link \n\n# pie-cli executable now points to /bin/pie-cli\n```\n## Usage \n\n```\npie --help|-h\n```\n\n### Developing\n\nIf you want to play with the cli while developing you can watch the src, then link the repo so you can invoke the cli\n\n```\nnpm link\nnpm run dev # runs -> \'gulp dev\'\n# in some other dir \npie --help\n```\n\n#### Debugging\n\nTo debug typescript you\'ll need to generate the sourcemaps. `gulp-typescript` doesn\'t do this at the moment, so we use `tsc` instead.\n\n* run `npm run source-maps`\n* run `node --debug-brk --inspect $(which pie) ....`\n\n> Windows debugging: `node.exe --debug-brk --inspect  "C:\\Users\\Edward Eustace\\AppData\\Roaming\\npm\\node_modules\\pie\\bin\\pie" --version`\n\nNode is now running in debug mode on `5858` so boot up a debugger. Visual Studio Code has nice typescript debugging support. In VS: \n\n* add a breakpoint to the ts src file you want to debug.\n* press `F5`.\n* If you have no debug config it\'ll ask you to add one.\n* Add the following: \n\n```json\n{\n      "type": "node",\n      "request": "attach",\n      "protocol": "inspector",\n      "name": "Attach to Process",\n      "port": 9229,\n      "outFiles": [\n        "${workspaceRoot}/lib/**/*.js"\n      ],\n      "sourceMaps": true\n    }\n```\n\n* select this runner and the app will start and hit your breakpoint.\n\n\n#### Contributing\n\nIf you are commiting a code change that is worthy of being included in the release information, write your commit message using the [angular commit conventions outlined here](https://github.com/conventional-changelog/conventional-changelog-angular/blob/master/convention.md). These commit formats will automatically be included in the release notes.\n\n#### Tests\n\n##### Unit\n```\nnpm test\n```\n\n##### Integration \n\n> The integration tests are slower than the unit tests because of all the `npm install` commands. \nYou\'ll probably want to run the 1 at a time like so: \n\n```shell\nmocha --require test/init test/integration/framework-support/support-module-test.js\n```\n\nor to run an individual test: \n\n```shell\n./node_modules/.bin/mocha  --require test/init.js  test/integration/init.js test/integration/cli/install-test.js\n```\n\n> `--require test/init` - inits babel and the logger.\n\nTo run them all: \n\n```shell\nnpm run it \n```\n\n##### Test Coverage \n\n```shell \nnpm install -g nyc \nnyc npm test\n```\n#### Build\n\n```\nnpm run build\n```\n\n#### Release\n\nThis creates a new github release from the `develop` branch:\n\n> Be sure to only use npm for install - if you use yarn you may get publishing errors like: `TypeError: log.gauge.isEnabled is not a function`.\n\n```shell\ngit checkout master\ngit merge develop\nnpm run release\n```\n\n## Architecture Notes \n\nWhen you run any of the commands that generate/serve js you are running one or more webpack builds via an `App`. For example `pie info` uses the `InfoApp` which has a `serve` function. This method will run an `install` then run a server that will make use of `webpack-dev-middleware`.\n\nThe high level flow is: `cmd` -> `install` -> `prepare webpack config(s)` -> `run webpack build` | `run webpack-dev-middleware`. \n\n###  .pie - build directory\n\nWhen you install, you are installing the dependencies for your `pie` package.\nThis happens in a directory called `.pie` that is relative to the `pie item` directory.\n\nInside the `.pie` directory is: \n* `package.json` - the install generated package.json that lists the pies that are dependencies\n* `.controllers` - the controllers install directory for controller related dependencies\n* `.configure` - the configure install directory for configure related dependencies.\n* `*.entry.js` - entry files for the given app type\n* `*.config.js` - webpack config js files (useful for debugging builds)\n\n### build support\n\nThe webpack builds inside `.pie` make use of some pre-installed support directories that are located in `pie-cli/support`. They are npm packages that get installed along with `pie-cli`. Their `node_modules` directories are added to the webpack `resolve.modules` and `resolveLoader.modules` arrays. \n\nThey also contain `rules` that can be added to a webpack config. All the apps in `pie-cli` make use of any rules in the default support packages.\n\nWe do this to speed up intallation by only having to install these once. It gives greater control over supporting libs are added to the webpack build.\n\nThe support package is a standard npm package and we hope to enable the inclusion of external support packages via command line options for custom builds.\n\n##### Credits\n\n> Special thanks to Ken Pratt @kenpratt for the `pie` npm package name\n\n',
26 silly publish   readmeFilename: 'README.md',
26 silly publish   gitHead: '559a72adf8868a75af4f7ad5a48110a2318ca0c6',
26 silly publish   _id: 'pie@10.3.3',
26 silly publish   _shasum: '826e0af5ffe7d2d6f5bda9fcc250aea51d9c3f6f',
26 silly publish   _from: '.' }
27 verbose getPublishConfig undefined
28 silly mapToRegistry name pie
29 silly mapToRegistry using default registry
30 silly mapToRegistry registry https://registry.npmjs.org/
31 silly mapToRegistry data Result {
31 silly mapToRegistry   raw: 'pie',
31 silly mapToRegistry   scope: null,
31 silly mapToRegistry   escapedName: 'pie',
31 silly mapToRegistry   name: 'pie',
31 silly mapToRegistry   rawSpec: '',
31 silly mapToRegistry   spec: 'latest',
31 silly mapToRegistry   type: 'tag' }
32 silly mapToRegistry uri https://registry.npmjs.org/pie
33 verbose publish registryBase https://registry.npmjs.org/
34 silly publish uploading /Users/edeustace/.npm/pie/10.3.3/package.tgz
35 verbose request uri https://registry.npmjs.org/pie
36 verbose request sending authorization for write operation
37 info attempt registry request try #1 at 9:28:07 AM
38 verbose request using bearer token for auth
39 verbose request id ba7a96cabc2d5cdc
40 http request PUT https://registry.npmjs.org/pie
41 http 403 https://registry.npmjs.org/pie
42 verbose headers { date: 'Tue, 03 Jul 2018 13:28:09 GMT',
42 verbose headers   'content-type': 'application/json',
42 verbose headers   'transfer-encoding': 'chunked',
42 verbose headers   connection: 'keep-alive',
42 verbose headers   'set-cookie':
42 verbose headers    [ '__cfduid=d05d38047f1937030a516278bbfc2663a1530624488; expires=Wed, 03-Jul-19 13:28:08 GMT; path=/; domain=.registry.npmjs.org; HttpOnly' ],
42 verbose headers   'cf-ray': '4349b18aacce924e-EWR',
42 verbose headers   'expect-ct':
42 verbose headers    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
42 verbose headers   server: 'cloudflare',
42 verbose headers   'content-encoding': 'gzip' }
43 verbose request invalidating /Users/edeustace/.npm/registry.npmjs.org/pie on PUT
44 error publish Failed PUT 403
45 verbose stack Error: You cannot publish over the previously published versions: 10.3.3. : pie
45 verbose stack     at makeError (/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/npm/node_modules/npm-registry-client/lib/request.js:302:12)
45 verbose stack     at CachingRegistryClient.<anonymous> (/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/npm/node_modules/npm-registry-client/lib/request.js:290:14)
45 verbose stack     at Gunzip.cb (/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/npm/node_modules/npm-registry-client/lib/request.js:216:7)
45 verbose stack     at Gunzip.zlibBufferOnEnd (zlib.js:122:10)
45 verbose stack     at Gunzip.emit (events.js:187:15)
45 verbose stack     at endReadableNT (_stream_readable.js:1081:12)
45 verbose stack     at process._tickCallback (internal/process/next_tick.js:63:19)
46 verbose statusCode 403
47 verbose pkgid pie
48 verbose cwd /Users/edeustace/dev/github/pie-framework/pie-cli
49 error Darwin 17.5.0
50 error argv "/Users/edeustace/.nvm/versions/node/v10.4.1/bin/node" "/Users/edeustace/dev/github/pie-framework/pie-cli/node_modules/.bin/npm" "publish" "." "--tag" "latest"
51 error node v10.4.1
52 error npm  v3.10.10
53 error code E403
54 error You cannot publish over the previously published versions: 10.3.3. : pie
55 error If you need help, you may report this error at:
55 error     <https://github.com/npm/npm/issues>
56 verbose exit [ 1, true ]
