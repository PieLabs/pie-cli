'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.usage = exports.summary = undefined;
exports.match = match;
exports.run = run;

var _question = require('../question');

var _question2 = _interopRequireDefault(_question);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _logFactory = require('../log-factory');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const marked = require('marked');
const TerminalRenderer = require('marked-terminal');


let logger = (0, _logFactory.fileLogger)(__filename);

function match(args) {
  return args._.indexOf('clean-question') !== -1;
}

let summary = exports.summary = 'clean-question - remove files generated by the `pack-question` command';

marked.setOptions({
  renderer: new TerminalRenderer()
});

let usage = exports.usage = marked(`
# clean-question 
-----------------

Clean the cruft generated by pack-question 

### Examples 

\`\`\`shell 
pie-cli clean-question --dir ../path/to/dir

`);

function run(args) {
  let dir = resolve(args.dir || process.cwd());
  let question = new _question2.default(dir, {}, {});

  return question.clean(dir, args).then(() => "clean complete");
}